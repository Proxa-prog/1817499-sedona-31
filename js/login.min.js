const loginLink=document.querySelector(".button_hotel_search"),loginPopup=document.querySelector(".date_form"),inputArrival=document.querySelector(".arrival"),inputDeparture=document.querySelector(".departure"),inputPeople=document.querySelector(".how_much_people");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("login")}catch(e){isStorageSupport=!1}loginLink.addEventListener("click",function(e){e.preventDefault(),loginPopup.classList.toggle("modal_show"),storage?(inputArrival.value=storage,inputDeparture.focus()):inputArrival.focus()}),loginPopup.addEventListener("submit",function(e){inputArrival.value&&inputDeparture.value?isStorageSupport&&localStorage.setItem("login",inputArrival.value):e.preventDefault()}),window.addEventListener("keydown",function(e){27===e.keyCode&&loginPopup.classList.contains("modal_show")&&(e.preventDefault(),loginPopup.classList.remove("modal_show"))});